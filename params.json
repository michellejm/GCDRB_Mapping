{"name":"Gcdrb mapping","tagline":"","body":"# Mapping Workshop\r\n\r\n1. What is mapping (versus visualization)\r\n\r\nQ--> What are 2-3 maps you use regularly?\r\nA--> Map or visualization?\r\n\r\n2. Layers\r\n\r\nWhat makes mapping different from visualization is its relationship to actual space. Georeferencing ties information to a real location on the Earth. In the past, cartographers used acetate sheets to illustrate layers, and how a certain piece of information is tied to another piece of information in the world. By standardizing our maps and tying them to the same coordinate system, we are able to show the relationship between different types of data. \r\n\r\n3. File types\r\n\r\na. Vector Files\r\n\r\ni. points, lines, polygons (shapes)\r\n\r\nThese are way more abstract than it might seem. Vector files are not actual images of the places. A point is often used to represent a city, with one set of latitude/longitude coordinates. \r\n\r\nii. File Types: \r\n\r\nESRI Shapefiles (.shp), Google KML files (.kml), Geographic Markup Language files (GML). We will be working with .shp. \r\n\r\nb. Tables\r\n\r\ni. These contain the information about the space. With a location identifier, these can be mapped to the world. \r\n\r\nii. Familiar file types (.csv, .txt, .xls) We will be working with .csv\r\n\r\nc. Raster files (not covered in this tutorial) refers to files that are more like images. It's a continuous surface divided into teeny tiny cells. Each cell is a different color based on something significant to the image. Generally used for aerial photos, satellite images, and old scanned maps (heat maps are made this way, too).\r\n\r\nd. Geodatabases (not covered in this tutorial) have all the information in one place. In a way, this is what we will be building in CartoDB, though geodatabases have ALL of it (raster, vector, tables). \r\n\r\n4. Ways to think about Maps\r\n\r\na. Analyze spatial information \r\n\r\nb. Tell a story about the world\r\n\r\nc. Answer a question related to physical, cultural, political boundaries\r\n\r\n5. Georeferencing\r\n\r\na. Information that refers to a point or area in the world. We need to turn information from what we use (zipcodes, addresses, streets, cities) and plotting it in something Mapping Programs care about (i.e., latitude/longitude, or ESRI x/y coordinates)\r\n\r\nb. CartoDB does automatic geocoding (i.e., will take an address and give it latitude/longitude), 100 records for free and then its paid ($15 per 1,000). If you will be doing lots of geocoding, Frank Donnolley's QGIS Workshop is the next step.\r\n\r\n\r\nGetting Started with CartoDB\r\n\r\n ```\r\ngo to CartoDB\r\nwww.cartodb.com\r\nSign up for a free account\r\n```\r\n\r\n##Geographic Data\r\n\r\n###Finding Data Sources\r\n\r\n\t<li>We will be using <a href=\"https://data.cityofnewyork.us/\" target=\"_blank\">NYC Open Data</a> â€“ lots of information here that has a spatial component to it</li>\r\n\r\nPlaces to find more data:\r\n\r\n<ul>\r\n\t<li><a href=\"http://www.nyc.gov/html/dcp/html/bytes/applbyte.shtml#lion\" target=\"_blank\">Bytes of the Big Apple</a> Geospatial files of NYC (administrative boundaries, borough boundaries, etc.)</li>\r\n\t<li><a href=\"https://data.cityofnewyork.us/dashboard\" target=\"_blank\">NYC Open Data </a>All government organizations are required to provide their statistical data by 2018</li>\r\n\t<li><a href=\"http://www.nyc.gov/html/dcp/html/neighbor/index.shtml\" target=\"_blank\">NYC: City of Neighborhoods   </a>Data for each of the neighborhoods</li>\r\n<li><a href=\"http://spatialityblog.com/2010/07/08/mta-gis-data-update/\" target=\"_blank\">Spatiality Blog  </a>Our very own Steve Romalewski, great subway info here!</li>\r\n\t<li><a href=\"http://www.oasisnyc.net/pages/data.aspx\" target=\"_blank\">Oasis maps for NYC</a><a href=\"http://www.city-data.com/album/album-New-York-New-York.html\" target=\"_blank\">City Data Images</a></li>\r\n\t<li><a href=\"http://www.census.gov/population/www/cen2010/glance/\" target=\"_blank\">2010 Census Data</a></li>\r\n\t<li><a href=\"https://www.nhgis.org/\" target=\"_blank\">National Historical Geographic Information System</a> Can put in a request for almost any amount of data</li>\r\n\t</ul>\r\n            \r\n### Notes about Data for CartoDB\r\n\r\n* Spreadsheets must be .csv files\r\n* Shape files must be uploaded as zip files, and all the embedded files must have the same name (this is common practice anyhow, but it looks like this: dual_lang_school.zip file would contain dual_lang_school.shp, dual_lang_school.dbf, ne_10m_populated_places.shx and dual_lang_school.prj).\r\n\r\n## Today's Projects\r\n\r\n        Project 1: Inspect wifi hotspots to learn about map types\r\n        Project 2: How many wifi hotspots in each school district?\r\n        Project 3: How many museums in each school district? (museums, nysd)\r\n\r\n## Project 1\r\nSimple Plot of Spatial Data: Wifi Hotspots\r\n\tGo to: <a href=\"https://data.cityofnewyork.us/Social-Services/NYC-Wi-Fi-Hotspot-Locations/a9we-mtpn\">Wifi HotSpots</a> \r\n\thttps://data.cityofnewyork.us/Social-Services/NYC-Wi-Fi-Hotspot-Locations/a9we-mtpn\r\n\r\n```\r\nDownload as Shapefile (do NOT unzip it)\r\n```\r\n\r\n``` \r\nopen CartoDB\r\n```\r\n\r\n```\r\nNew Dataset (green button in right hand corner)\r\nDatafile\r\nBrowse\r\nUpload the entire ZIP file\r\nclick Connect Dataset in the bottom right\r\n```\r\n\r\nIt should automatically plot all the wifi hotspots\r\nif you get a table, switch to 'map view' if you get a map, switch to 'table view'\r\n\r\n```\r\nMeet back in 'table view'\r\nChange the title by clicking on the title\r\ncall it 'wifi'\r\n```\r\n\r\nThese are points in space, but there is a lot of information behind the scenes\r\nCartoDB may have offered you \"interesting maps\" can click there for a direct link.\r\nOtherwise:\r\n```\r\nClick on the '1' in the box on the right - this will open a panel. All the features are found here\r\n```\r\n\r\nLet's look at some different maps:\r\n* cluster\r\n* chloropleth - does this make sense for our map?\r\n* category\r\n\t+ category on location\r\n```\r\nChange the column to look at other features\r\n```\r\n\t+ category on borough\r\n\r\nThat's all fine, and can be used to make very nice maps, but let's do some analysis with this tool.\r\n\r\n## Project 2\r\n1. Return to NYC Open Data\r\n2. search for Z2012-2013 School Zones (\"https://data.cityofnewyork.us/Education/2012-2013-School-Zones/4szu-rxzq\")\r\n\r\nThe download button is at the upper right\r\n\r\nGo back to CartoDB\r\nReturn to the uploads page (teeny tiny arrow in upper left corner)\r\nUpload the data to CartoDB\r\n\r\n```\r\nNew Dataset (green button in right hand corner)\r\nDatafile\r\nBrowse\r\nUpload the entire ZIP file\r\nclick Connect Dataset in the bottom right\r\nrename your data set 'School Zones'\r\n```\r\n\r\nNow let's see how many wifi hotspots are in each school district\r\n\r\n```\r\nEdit\r\nMerge with dataset\r\nSpatial Join\r\nChoose 'Wifi'\r\n```\r\nThe first column here refers to the School districts file\r\nSecond column refers to wifi \r\nThis is based on the order that you import that\r\n\r\n```\r\nColumn 1:\r\nshape_area\r\n\r\nColumn 2: \r\nCount\r\n\r\nMerge Datasets\r\n```\r\n\r\nQ--> Change the view - which view makes the most sense? Why?\r\n\r\nLet's annotate this map\r\n\r\n```\r\nclick on a school district\r\n```\r\n\r\nThis number does NOT refer to the count. \r\nSelect fields to display\r\n\r\nQ--> What fields make the most sense?\r\n\r\nPlay around with options here\r\n- Add elements (annotate, etc)\r\n- Preview (for phone or computer)\r\n\r\nNow let's add a layer!\r\n\r\n## Project 3\r\n1. Return to NYC Open Data\r\n2. search for NYC Museums (\"hhttps://data.cityofnewyork.us/Recreation/New-York-City-Museums/ekax-ky3z\")\r\n\r\nDownload as shapefile\r\n\r\nGo back to CartoDB\r\nReturn to the uploads page\r\nUpload the data to CartoDB\r\n\r\n```\r\nNew Dataset (green button in right hand corner)\r\nDatafile\r\nBrowse\r\nUpload the entire ZIP file\r\nclick Connect Dataset in the bottom right\r\nrename your data set 'Museums'\r\n```\r\nNow we are going to put it all together\r\n\r\n```\r\nReturn to list of datasets\r\nopen School District-merge\r\n```\r\nnow we are going to add a layer\r\n\r\n```\r\nclick on plus sign on right hand side\r\n\r\nSelect \"museums\" to add\r\n\r\nQ--> What is different about a 'layer' versus a 'merge'??\r\n\r\nGo back and let's MERGE the museums with the school districts\r\nMake sure you are looking at datasets (not maps)\r\n\r\n```\r\nopen school district_merge\r\nEdit\r\nMerge with dataset\r\nSpatial Join\r\nChoose 'Museums'\r\n```\r\nRemember to merge on shape area \r\nSelect Count for what to do\r\n\r\nLook at the maps again to figure out which one will be best.\r\n\r\n\r\n\r\n    We are only interested in the school that have a museum in them (i.e., intersect count is greater than 0) - so we want to apply a filter.\r\n    \r\n```\r\n    Click on the icon that looks like a column graph at the bottom\r\n    Select intersect_count\r\n    Adjust the boundaries of the slider to 1-12\r\n```\r\nIf you now click on SQL (structured Query Language), you will see the code for the filter you just created. Eventually you can just work with this code rather than using the filters\r\n\r\n```\r\n    Apply Query, return to the table and Create Dataset from Query\r\n    Rename it\r\n    Switch to map view\r\n```\r\n\r\nQ--> What other questions can you ask about how data is related to space?\r\n\r\nThat's it for these projects, from here, we will split into groups to play with your own projects.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}